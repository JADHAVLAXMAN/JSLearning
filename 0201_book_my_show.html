<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bootstrap Site</title>
    <style>
      .box {
        height: 55.8px;
        width: 55.8px;
        border: 2px solid gray;
        display: inline-block;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css"
      integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js"
      integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <div class="container">
      <div class="row">
        <div class="col-sm-6 offset-sm-3">
          <div class="card">
            <div class="card-header">BookMyShow Lite</div>
            <div class="card-body">
              <div id="result" class="alert alert-success"></div>
              <!-- <div id="result"></div> -->
              <select
                id="movie"
                class="form-select my-3"
                onchange="changeMovie()"
              >
                <option value="m1">Movie 1</option>
                <option value="m2">Movie 2</option>
                <option value="m3">Movie 3</option>
                <option value="m4">Movie 4</option>
              </select>

              <div class="main">
                <div onclick="addclass('div1')" class="box" id="div1"></div>
                <div onclick="addclass('div2')" class="box" id="div2"></div>
                <div onclick="addclass('div3')" class="box" id="div3"></div>
                <div onclick="addclass('div4')" class="box" id="div4"></div>
                <div onclick="addclass('div5')" class="box" id="div5"></div>
                <div onclick="addclass('div6')" class="box" id="div6"></div>
                <div onclick="addclass('div7')" class="box" id="div7"></div>
                <div onclick="addclass('div8')" class="box" id="div8"></div>
                <div onclick="addclass('div9')" class="box" id="div9"></div>
                <div onclick="addclass('div10')" class="box" id="div10"></div>
              </div>
              <div class="main">
                <div onclick="addclass('div11')" class="box" id="div11"></div>
                <div onclick="addclass('div12')" class="box" id="div12"></div>
                <div onclick="addclass('div13')" class="box" id="div13"></div>
                <div onclick="addclass('div14')" class="box" id="div14"></div>
                <div onclick="addclass('div15')" class="box" id="div15"></div>
                <div onclick="addclass('div16')" class="box" id="div16"></div>
                <div onclick="addclass('div17')" class="box" id="div17"></div>
                <div onclick="addclass('div18')" class="box" id="div18"></div>
                <div onclick="addclass('div19')" class="box" id="div19"></div>
                <div onclick="addclass('div20')" class="box" id="div20"></div>
              </div>
              <div class="main">
                <div onclick="addclass('div21')" class="box" id="div21"></div>
                <div onclick="addclass('div22')" class="box" id="div22"></div>
                <div onclick="addclass('div23')" class="box" id="div23"></div>
                <div onclick="addclass('div24')" class="box" id="div24"></div>
                <div onclick="addclass('div25')" class="box" id="div25"></div>
                <div onclick="addclass('div26')" class="box" id="div26"></div>
                <div onclick="addclass('div27')" class="box" id="div27"></div>
                <div onclick="addclass('div28')" class="box" id="div28"></div>
                <div onclick="addclass('div29')" class="box" id="div29"></div>
                <div onclick="addclass('div30')" class="box" id="div30"></div>
              </div>
            </div>
            <button onclick="booknow()" class="btn btn-primary">
              book now
            </button>

            <div class="alert" id="book"></div>
            <div id="booked"></div>

            <button onclick="paynow()" class="btn btn-warning">pay now</button>
            <div id="pay"></div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function addclass(arg) {
        var isgreen = document
          .getElementById(arg)
          .classList.contains("bg-success"); //these chek the contains the bg-success class
        var isred = document
          .getElementById(arg)
          .classList.contains("bg-danger"); //these chek the contains the bg-success class

        if (!isgreen && !isred) {
          document.getElementById(arg).classList.add("bg-success");
          isgreen = false;
        } else {
          document.getElementById(arg).classList.remove("bg-success");
          isgreen = true;
        }
        // var x = document.querySelector("#div1");
        // console.log(x);
        //these can select the only one result that specific only one id

        var x = document.querySelectorAll(".bg-success");
        console.log(x.length);
        console.warn(
          `you have selected ${x.length} seats and your bill amount = ${
            x.length * 500
          }`
        );
        document.getElementById("result").innerHTML = `${
          x.length
        } seats and your bill amount = ${x.length * 500}`;
        document.getElementById("book").value;
      }

      function booknow() {
        var x = document.querySelectorAll(".bg-success");
        console.log(x.length);
        for (var i = 0; i < x.length; i++) {
          x[i].classList.remove("bg-success");
          x[i].classList.add("bg-danger");
        }
        var final = console.log(`${x.length} seates are booked`);
        document.getElementById("book").innerHTML = `to confirm your ${
          x.length
        } seates to pay  ${x.length * 500} `;
        let tiketbook = confirm("do you really want to confirm your ticket");
        console.warn(tiketbook);
        let prooo = prompt("what is your name?");
        console.log(prooo);
        document.getElementById(
          "booked"
        ).innerHTML = `${prooo} you have booked ${x.length} tickets`;
        if (tiketbook) {
          let tiketbook1 = confirm(
            `Hello  ${prooo} do you want to pay ${x.length * 500}`
          );
          console.warn(tiketbook1);
        } else {
          let tiketbook2 = confirm(
            `"congratulations you have not  booked"${x.length} tickets`
          );
          console.warn(tiketbook2);
        }
      }

      function paynow() {
        var x = document.querySelectorAll(".bg-danger");
        console.log(x.length);
        document.getElementById("pay").value;
        let tiketbook99 = confirm(
          `you have paid ${x.length * 500} successfully`
        );
        console.warn(tiketbook99);
        //    document.getElementById("pay").innerHTML=`${x.length * 500} pay now`;
        document.getElementById(
          "book"
        ).innerHTML = ` You  have successfuly confirmed ${x.length} seates`;
      }

      function changeMovie() {
        var boxArray = document.querySelectorAll(".box");
        for (let i = 0; i < boxArray.length; i++) {
          boxArray[i].classList.remove("bg-success");
          console.log("Movie Changed");
        }
        document.getElementById("result").innerHTML = "";
      }
    </script>
  </body>
</html>
